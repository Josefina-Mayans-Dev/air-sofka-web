import{h as be}from"./chunk-C2RSFEMS.js";import{$a as k,Aa as ue,Da as ce,E as oe,G as w,Ga as me,H as C,Ia as fe,Ja as ge,K as se,La as S,Q as s,R as le,Ra as _e,Sa as he,Ta as Y,U as f,Ua as v,V as pe,Va as ve,Y as l,Za as c,_a as j,a as ee,aa as de,b as te,ba as x,bb as O,d as y,da as I,db as T,e as ne,ea as E,eb as A,f as Q,fa as a,fb as V,ga as r,gb as z,ha as _,hb as R,i as ie,ib as J,kb as N,l as ae,ma as u,mb as U,nb as H,o as W,p as F,pb as P,qa as p,r as re,ra as h,rb as q,s as M,sb as G,u as m,x as o,xa as D,xb as Z,ya as B,za as X}from"./chunk-WTVOD2ZT.js";function Fe(e,g){if(e&1&&(a(0,"option",6),p(1),r()),e&2){let n=g.$implicit;l("value",n.id),s(),h(n.model)}}var Me=()=>["/"],xe=()=>["/admin/planes"],Ie=()=>["/admin/create"],Ee=()=>["/admin"],Pe=()=>["/admin/create/planes"],we=()=>["/admin/create/maintenances"];function ke(e,g){e&1&&(a(0,"div",2)(1,"a",4),p(2,"View planes"),r(),a(3,"a",4),p(4,"Create flight"),r()()),e&2&&(s(),l("routerLink",D(2,xe)),s(2),l("routerLink",D(3,Ie)))}function Oe(e,g){e&1&&(a(0,"div",2)(1,"a",4),p(2,"View flights"),r(),a(3,"a",4),p(4,"Create plane"),r(),a(5,"a",4),p(6,"Create maintenance"),r()()),e&2&&(s(),l("routerLink",D(3,Ee)),s(2),l("routerLink",D(4,Pe)),s(2),l("routerLink",D(5,we)))}function Te(e,g){if(e&1&&_(0,"lib-flight-card",1),e&2){let n=g.$implicit;l("flight",n)}}function Ne(e,g){if(e&1&&_(0,"lib-plane-card",1),e&2){let n=g.$implicit;l("plane",n)}}function Ue(e,g){if(e&1&&(a(0,"option",5),p(1),r()),e&2){let n=g.$implicit;l("value",n.id),s(),h(n.model)}}var ye=".form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form__group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.form__label[_ngcontent-%COMP%]{font-size:.75rem;color:#565656;margin-left:10px}.form__select[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:6px;border:1px solid rgba(138,138,138,.6862745098)}";function qe(e,g){if(e&1&&(a(0,"option",6),p(1),r()),e&2){let n=g.$implicit;l("value",n.id),s(),h(n.model)}}var Ge=(()=>{class e{fb=o(N);planes=C([]);onSubmit=w();originInput={id:"origin",label:"Origin",placeholder:"",value:"",type:"text",formControlName:"origin",required:!0,disabled:!1};destinationInput={id:"destination",label:"Destination",placeholder:"",value:"",type:"text",formControlName:"destination",required:!0,disabled:!1};priceInput={id:"price",label:"Price",placeholder:"",value:"",type:"number",formControlName:"price",required:!0,disabled:!1};departureInput={id:"departure",label:"Departure",placeholder:"",value:"",type:"datetime-local",formControlName:"departure",required:!0,disabled:!1};arrivalInput={id:"arrival",label:"Arrival",placeholder:"",value:"",type:"datetime-local",formControlName:"arrival",required:!0,disabled:!1};form=this.fb.group({origin:["",[c.required]],destination:["",[c.required]],price:["",[c.required]],plane:["",[c.required]],departure:["",[c.required]],arrival:["",[c.required]]});submitButtonData={class:"dark",size:"large",label:"Create",disabled:!0};validateForm(){this.submitButtonData.disabled=this.form.invalid}submit(){this.onSubmit.emit({origin:this.form.get("origin").value,destination:this.form.get("destination").value,price:this.form.get("price").value,idPlane:this.form.get("plane").value,departure:this.form.get("departure").value,arrival:this.form.get("arrival").value})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["lib-create-flight"]],inputs:{planes:[1,"planes"]},outputs:{onSubmit:"onSubmit"},decls:20,vars:12,consts:[[1,"form",3,"formGroup"],[3,"outputData","inputData","formGroup"],[1,"form__group"],["for","plane",1,"form__label"],["name","plane","id","plane","required","","formControlName","plane",1,"form__select",3,"change"],["value","","disabled","","selected",""],[3,"value"],[3,"clickEvent","buttonData"]],template:function(t,i){t&1&&(a(0,"form",0)(1,"div")(2,"app-input",1),u("outputData",function(){return i.validateForm()}),r()(),a(3,"div")(4,"app-input",1),u("outputData",function(){return i.validateForm()}),r()(),a(5,"div")(6,"app-input",1),u("outputData",function(){return i.validateForm()}),r()(),a(7,"div",2)(8,"label",3),p(9,"Plane"),r(),a(10,"select",4),u("change",function(){return i.validateForm()}),a(11,"option",5),p(12,"Select a plane"),r(),I(13,Fe,2,2,"option",6,x),r()(),a(15,"div")(16,"app-input",1),u("outputData",function(){return i.validateForm()}),r()(),a(17,"div")(18,"app-input",1),u("outputData",function(){return i.validateForm()}),r()(),a(19,"app-button",7),u("clickEvent",function(){return i.submit()}),r()()),t&2&&(l("formGroup",i.form),s(2),l("inputData",i.originInput)("formGroup",i.form),s(2),l("inputData",i.destinationInput)("formGroup",i.form),s(2),l("inputData",i.priceInput)("formGroup",i.form),s(7),E(i.planes()),s(3),l("inputData",i.departureInput)("formGroup",i.form),s(2),l("inputData",i.arrivalInput)("formGroup",i.form),s(),l("buttonData",i.submitButtonData))},dependencies:[U,O,z,R,V,j,k,J,T,A,G,q],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form__group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.form__label[_ngcontent-%COMP%]{font-size:.75rem;color:#565656;margin-left:10px}.form__select[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:6px;border:1px solid rgba(138,138,138,.6862745098)}"]})}return e})(),$e=(()=>{class e{http=o(S);get(){return this.http.get("http://localhost:8080/planes")}static \u0275fac=function(t){return new(t||e)};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),De=(()=>{class e{state(n){return{$:()=>n.asObservable(),snapshot:()=>this.inmutabilize(n.getValue()),set:t=>n.next(this.inmutabilize(t))}}inmutabilize(n){return JSON.parse(JSON.stringify(n))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Le=(()=>{class e{_factory=o(De);_planes$=new Q([]);store(){return this._factory.state(this._planes$)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Be=(()=>{class e{_factory=o(De);_flights$=new Q([]);store(){return this._factory.state(this._flights$)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$=(()=>{class e{_planes=o(Le);_flights=o(Be);get planes(){return this._planes.store()}get flights(){return this._flights.store()}static \u0275fac=function(t){return new(t||e)};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),K=(()=>{class e{_service=o($e);_state=o($);subscriptions;planes$(){return this._state.planes.$()}initSubscription(){this.subscriptions=new y}destroySubscription(){this.subscriptions.unsubscribe()}execute(){this.subscriptions.add(this._service.get().pipe(M(n=>{this._state.planes.set(n)})).subscribe({}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),je=(()=>{class e{http=o(S);create(n){return this.http.post("http://localhost:8080/flights",n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ae=(()=>{class e{_service=o(je);_state=o($);_router=o(v);_loading=o(P);subscriptions;flights$(){return this._state.flights.$()}initSubscription(){this.subscriptions=new y}destroySubscription(){this.subscriptions.unsubscribe()}execute(n){this._loading.setLoading(!0),this.subscriptions.add(this._service.create(n).pipe(W(2e3),F(()=>this._loading.setLoading(!1)),M(t=>{this._state.flights.set([...this._state.flights.snapshot(),t])})).subscribe({next:()=>{this._router.navigate(["/admin"])}}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ve=(()=>{class e{_planesUseCase=o(K);_flightUseCase=o(Ae);planes=[];ngOnInit(){this._planesUseCase.initSubscription(),this._flightUseCase.initSubscription(),this.getPlanes(),this._planesUseCase.planes$().subscribe({next:n=>{this.planes=n}})}getPlanes(){this._planesUseCase.execute()}createFlight(n){this._flightUseCase.execute(n)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["lib-create-flight-container"]],decls:1,vars:1,consts:[[3,"onSubmit","planes"]],template:function(t,i){t&1&&(a(0,"lib-create-flight",0),u("onSubmit",function(b){return i.createFlight(b)}),r()),t&2&&l("planes",i.planes)},dependencies:[Ge],encapsulation:2})}return e})(),Ce=(()=>{class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["lib-form-layout"]],decls:4,vars:0,consts:[[1,"main"],[1,"main__container"]],template:function(t,i){t&1&&(a(0,"main",0)(1,"div",1),_(2,"router-outlet"),r()(),_(3,"lib-loading"))},dependencies:[Y,Z],styles:[".main[_ngcontent-%COMP%]{min-height:100dvh;display:flex;align-items:center;justify-content:center;background-color:#f3f4f6}.main__container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;width:448px}"]})}return e})(),ze=(()=>{class e{router=o(v);destroy$=new ne;isPlanes=!1;ngOnInit(){this.isPlanes=this.router.url.includes("planes"),this.router.events.pipe(ae(n=>n instanceof _e),re(this.destroy$)).subscribe(()=>{this.isPlanes=this.router.url.includes("planes")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["lib-admin-layout"]],decls:8,vars:3,consts:[[1,"header"],[1,"header__button--secondary","header__button",3,"routerLink"],[1,"header__links"],[1,"main"],[1,"header__button--main","header__button",3,"routerLink"]],template:function(t,i){t&1&&(a(0,"header",0)(1,"a",1),p(2,"Go home"),r(),pe(3,ke,5,4,"div",2)(4,Oe,7,6,"div",2),r(),a(5,"main",3),_(6,"router-outlet"),r(),_(7,"lib-loading")),t&2&&(s(),l("routerLink",D(2,Me)),s(2),de(i.isPlanes?4:3))},dependencies:[Y,ve,Z],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:16px;margin-bottom:20px}.header__links[_ngcontent-%COMP%]{display:flex;gap:8px}.header__button[_ngcontent-%COMP%]{text-decoration:none;align-content:center;text-align:center;height:46px;padding:8px 16px;border:1px solid;border-radius:14px;font-size:1rem;min-width:107px;font-weight:700;min-height:30px;transition:color .25s ease-in-out,background-color .25s ease-in-out,border-color .25s ease-in-out,box-shadow .25s ease-in-out}.header__button--main[_ngcontent-%COMP%]{background:#2d69e1;border:transparent;color:#fff}.header__button--main[_ngcontent-%COMP%]:hover{background-color:#1f5cd6}.header__button--secondary[_ngcontent-%COMP%]{color:#2d69e1}.header__button--secondary[_ngcontent-%COMP%]:hover{background:#2d69e1;color:#fff}.header__button[_ngcontent-%COMP%]:hover{cursor:pointer}.main[_ngcontent-%COMP%]{margin:0 8px}"]})}return e})(),Se=(()=>{class e{http=o(S);get(){return this.http.get("http://localhost:8080/flights")}getById(n){return this.get().pipe(ie(t=>t.find(i=>i.id===n)))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Re=(()=>{class e{_service=o(Se);_state=o($);_loading=o(P);subscriptions;flights$(){return this._state.flights.$()}initSubscription(){this.subscriptions=new y}destroySubscription(){this.subscriptions.unsubscribe()}execute(){this._loading.setLoading(!0),this.subscriptions.add(this._service.get().pipe(F(()=>this._loading.setLoading(!1))).pipe(M(n=>{this._state.flights.set(n)})).subscribe({}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Je=(()=>{class e{router;flight=C.required();edit=new oe;constructor(n){this.router=n}onEdit(){let n=this.flight();n&&(this.edit.emit(n),console.log("Edit flight",n),this.router.navigate(["/admin/update/flight",n.id]))}static \u0275fac=function(t){return new(t||e)(le(v))};static \u0275cmp=f({type:e,selectors:[["lib-flight-card"]],inputs:{flight:[1,"flight"]},outputs:{edit:"edit"},decls:33,vars:16,consts:[[1,"card"],["src","assets/svgs/flight.svg","alt","Flight"],[1,"card__details"],[1,"card__details__item"],[1,"card__details__item--label"],[1,"card__details__edit-button",3,"click"]],template:function(t,i){t&1&&(a(0,"div",0),_(1,"img",1),a(2,"div",2)(3,"div",3)(4,"span",4),p(5,"Origin:"),r(),a(6,"span"),p(7),r()(),a(8,"div",3)(9,"span",4),p(10,"Destination:"),r(),a(11,"span"),p(12),r()(),a(13,"div",3)(14,"span",4),p(15,"Departure:"),r(),a(16,"span"),p(17),B(18,"date"),r()(),a(19,"div",3)(20,"span",4),p(21,"Arrival:"),r(),a(22,"span"),p(23),B(24,"date"),r()(),a(25,"div",3)(26,"span",4),p(27,"Price:"),r(),a(28,"span"),p(29),B(30,"currency"),r()(),a(31,"button",5),u("click",function(){return i.onEdit()}),p(32,"Edit"),r()()()),t&2&&(s(7),h(i.flight().origin),s(5),h(i.flight().destination),s(5),h(X(18,5,i.flight().departure,"short")),s(6),h(X(24,8,i.flight().arrival,"short")),s(6),h(ue(30,11,i.flight().price,"USD","symbol","1.0-2")))},dependencies:[me,fe],styles:[".card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:16px;box-shadow:0 2px 4px #0000001a;width:300px;display:flex;flex-direction:column;align-items:center;gap:16px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px}.card__details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;width:100%}.card__details__item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:#555}.card__details__item--label[_ngcontent-%COMP%]{font-weight:700;color:#333}.card__details__edit-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:8px 12px;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .3s ease}.card__details__edit-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return e})(),He=(()=>{class e{flights=C();static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["lib-flights"]],inputs:{flights:[1,"flights"]},decls:3,vars:0,consts:[[1,"flights"],[3,"flight"]],template:function(t,i){t&1&&(a(0,"div",0),I(1,Te,1,1,"lib-flight-card",1,x),r()),t&2&&(s(),E(i.flights()))},dependencies:[Je],styles:[".flights[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px}"]})}return e})(),Ke=(()=>{class e{_useCase=o(Re);flights=[];ngOnInit(){this._useCase.initSubscription(),this.getFlights(),this._useCase.flights$().subscribe({next:n=>this.flights=n})}ngOnDestroy(){this._useCase.destroySubscription()}getFlights(){this._useCase.execute()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["lib-flights-container"]],decls:1,vars:1,consts:[[3,"flights"]],template:function(t,i){t&1&&_(0,"lib-flights",0),t&2&&l("flights",i.flights)},dependencies:[He],encapsulation:2})}return e})(),Qe=(()=>{class e{plane=C();static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["lib-plane-card"]],inputs:{plane:[1,"plane"]},decls:13,vars:3,consts:[[1,"card"],["src","assets/svgs/airplane.svg","alt","Airplane"],[1,"card__details"],[1,"card__details__item"],[1,"card__details__item--label"],[3,"ngClass"]],template:function(t,i){t&1&&(a(0,"div",0),_(1,"img",1),a(2,"div",2)(3,"div",3)(4,"span",4),p(5,"Model:"),r(),a(6,"span"),p(7),r()(),a(8,"div",3)(9,"span",4),p(10,"State:"),r(),a(11,"span",5),p(12),r()()()()),t&2&&(s(7),h(i.plane().model),s(4),l("ngClass",i.plane().state==="DISABLED"?"card__details__item--disabled":"card__details__item--enabled"),s(),h(i.plane().state))},dependencies:[ge,ce],styles:[".card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:16px;box-shadow:0 2px 4px #0000001a;width:300px;display:flex;flex-direction:column;align-items:center;gap:16px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px}.card__details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;gap:8px;width:100%}.card__details__item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:#555}.card__details__item--label[_ngcontent-%COMP%]{font-weight:700;color:#333}.card__details__item--disabled[_ngcontent-%COMP%]{color:red}.card__details__item--enabled[_ngcontent-%COMP%]{color:green}"]})}return e})(),We=(()=>{class e{planes=C();static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["lib-planes"]],inputs:{planes:[1,"planes"]},decls:3,vars:0,consts:[[1,"planes"],[3,"plane"]],template:function(t,i){t&1&&(a(0,"div",0),I(1,Ne,1,1,"lib-plane-card",1,x),r()),t&2&&(s(),E(i.planes()))},dependencies:[Qe],styles:[".planes[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px}"]})}return e})(),Xe=(()=>{class e{_useCase=o(K);planes=[];ngOnInit(){this._useCase.initSubscription(),this.getPlanes(),this._useCase.planes$().subscribe({next:n=>this.planes=n})}ngOnDestroy(){this._useCase.destroySubscription()}getPlanes(){this._useCase.execute()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["lib-planes-container"]],decls:1,vars:1,consts:[[3,"planes"]],template:function(t,i){t&1&&_(0,"lib-planes",0),t&2&&l("planes",i.planes)},dependencies:[We],encapsulation:2})}return e})(),Ye=(()=>{class e{fb=o(N);onSubmit=w();modelInput={id:"model",label:"Model",placeholder:"",value:"",type:"text",formControlName:"model",required:!0,disabled:!1};form=this.fb.group({model:["",[c.required]]});submitButtonData={class:"dark",size:"large",label:"Create",disabled:!0};validateForm(){this.submitButtonData.disabled=this.form.invalid}submit(){this.onSubmit.emit({model:this.form.get("model").value})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["lib-create-plane"]],outputs:{onSubmit:"onSubmit"},decls:4,vars:4,consts:[[1,"form",3,"formGroup"],[3,"outputData","inputData","formGroup"],[3,"clickEvent","buttonData"]],template:function(t,i){t&1&&(a(0,"form",0)(1,"div")(2,"app-input",1),u("outputData",function(){return i.validateForm()}),r()(),a(3,"app-button",2),u("clickEvent",function(){return i.submit()}),r()()),t&2&&(l("formGroup",i.form),s(2),l("inputData",i.modelInput)("formGroup",i.form),s(),l("buttonData",i.submitButtonData))},dependencies:[U,O,k,T,G,q],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}"]})}return e})(),Ze=(()=>{class e{http=o(S);create(n){return this.http.post("http://localhost:8080/planes",n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),et=(()=>{class e{_service=o(Ze);_state=o($);_router=o(v);_loading=o(P);subscriptions;planes$(){return this._state.planes.$()}initSubscription(){this.subscriptions=new y}destroySubscription(){this.subscriptions.unsubscribe()}execute(n){this._loading.setLoading(!0),this.subscriptions.add(this._service.create(n).pipe(F(()=>this._loading.setLoading(!1))).pipe(M(t=>{this._state.planes.set([...this._state.planes.snapshot(),t])})).subscribe({next:()=>{this._router.navigate(["/admin/planes"])}}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tt=(()=>{class e{_useCase=o(et);planes=[];ngOnInit(){this._useCase.initSubscription(),this._useCase.planes$().subscribe({next:n=>{this.planes=n}})}createPlane(n){this._useCase.execute(n)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["lib-create-plane-container"]],decls:1,vars:0,consts:[[3,"onSubmit"]],template:function(t,i){t&1&&(a(0,"lib-create-plane",0),u("onSubmit",function(b){return i.createPlane(b)}),r())},dependencies:[Ye],encapsulation:2})}return e})(),nt=(()=>{class e{fb=o(N);planes=C([]);onSubmit=w();startInput={id:"start",label:"Start",placeholder:"",value:"",type:"datetime-local",formControlName:"start",required:!0,disabled:!1};endInput={id:"end",label:"End",placeholder:"",value:"",type:"datetime-local",formControlName:"end",required:!0,disabled:!1};form=this.fb.group({plane:["",[c.required]],start:["",[c.required]],end:["",[c.required]]});submitButtonData={class:"dark",size:"large",label:"Create",disabled:!0};validateForm(){this.submitButtonData.disabled=this.form.invalid}submit(){this.onSubmit.emit({idPlane:this.form.get("plane").value,start:this.form.get("start").value,end:this.form.get("end").value})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["lib-create-maintenance"]],inputs:{planes:[1,"planes"]},outputs:{onSubmit:"onSubmit"},decls:14,vars:6,consts:[[1,"form",3,"formGroup"],[1,"form__group"],["for","plane",1,"form__label"],["name","plane","id","plane","required","","formControlName","plane",1,"form__select",3,"change"],["value","","disabled","","selected",""],[3,"value"],[3,"outputData","inputData","formGroup"],[3,"clickEvent","buttonData"]],template:function(t,i){t&1&&(a(0,"form",0)(1,"div",1)(2,"label",2),p(3,"Plane"),r(),a(4,"select",3),u("change",function(){return i.validateForm()}),a(5,"option",4),p(6,"Select a plane"),r(),I(7,Ue,2,2,"option",5,x),r()(),a(9,"div")(10,"app-input",6),u("outputData",function(){return i.validateForm()}),r()(),a(11,"div")(12,"app-input",6),u("outputData",function(){return i.validateForm()}),r()(),a(13,"app-button",7),u("clickEvent",function(){return i.submit()}),r()()),t&2&&(l("formGroup",i.form),s(7),E(i.planes()),s(3),l("inputData",i.startInput)("formGroup",i.form),s(2),l("inputData",i.endInput)("formGroup",i.form),s(),l("buttonData",i.submitButtonData))},dependencies:[U,O,z,R,V,j,k,J,T,A,q,G],styles:[ye]})}return e})(),it=(()=>{class e{http=o(S);create(n){return this.http.post("http://localhost:8080/maintenances",n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),at=(()=>{class e{_service=o(it);_router=o(v);_loading=o(P);subscriptions;initSubscription(){this.subscriptions=new y}destroySubscription(){this.subscriptions.unsubscribe()}execute(n){this._loading.setLoading(!0),this.subscriptions.add(this._service.create(n).pipe(F(()=>this._loading.setLoading(!1))).subscribe({next:()=>{this._router.navigate(["/admin/planes"])}}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rt=(()=>{class e{_planesUseCase=o(K);_maintenanceUseCase=o(at);planes=[];ngOnInit(){this._planesUseCase.initSubscription(),this._maintenanceUseCase.initSubscription(),this.getPlanes(),this._planesUseCase.planes$().subscribe({next:n=>{this.planes=n}})}getPlanes(){this._planesUseCase.execute()}createMaintenance(n){this._maintenanceUseCase.execute(n)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["lib-create-maintenance-container"]],decls:1,vars:1,consts:[[3,"onSubmit","planes"]],template:function(t,i){t&1&&(a(0,"lib-create-maintenance",0),u("onSubmit",function(b){return i.createMaintenance(b)}),r()),t&2&&l("planes",i.planes)},dependencies:[nt],encapsulation:2})}return e})(),ot=(()=>{class e{http=o(S);update(n){return this.http.post("http://localhost:8080/flights/update",n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),st=(()=>{class e{_service=o(ot);_state=o($);_router=o(v);_loading=o(P);subscriptions;_alert=o(be);flights$(){return this._state.flights.$()}initSubscription(){this.subscriptions=new y}destroySubscription(){this.subscriptions.unsubscribe()}execute(n){this._loading.setLoading(!0),this.subscriptions.add(this._service.update(n).pipe(W(2e3),F(()=>this._loading.setLoading(!1)),M(t=>{let i=this._state.flights.snapshot(),d=i.map(L=>L.id===t.id?t:L);!i.some(L=>L.id===t.id)&&d.push(t),this._state.flights.set(d)})).subscribe({next:()=>{this._alert.success("Flight updated successfully"),this._router.navigate(["/admin"])},error:t=>{this._alert.error("Usuario o contrase\xF1a incorrectos")}}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lt=(()=>{class e{fb=o(N);planes=C([]);set flightData(n){n&&(this.form.patchValue(te(ee({},n),{plane:n.idPlane})),this.validateForm())}onSubmit=w();idInput={id:"id",label:"Id",placeholder:"",value:"",type:"text",formControlName:"id",required:!0,disabled:!0};originInput={id:"origin",label:"Origin",placeholder:"",value:"",type:"text",formControlName:"origin",required:!0,disabled:!1};destinationInput={id:"destination",label:"Destination",placeholder:"",value:"",type:"text",formControlName:"destination",required:!0,disabled:!1};priceInput={id:"price",label:"Price",placeholder:"",value:"",type:"number",formControlName:"price",required:!0,disabled:!1};departureInput={id:"departure",label:"Departure",placeholder:"",value:"",type:"datetime-local",formControlName:"departure",required:!0,disabled:!1};arrivalInput={id:"arrival",label:"Arrival",placeholder:"",value:"",type:"datetime-local",formControlName:"arrival",required:!0,disabled:!1};form=this.fb.group({id:["",[c.required]],origin:["",[c.required]],destination:["",[c.required]],price:["",[c.required]],plane:["",[c.required]],departure:["",[c.required]],arrival:["",[c.required]]});submitButtonData={class:"dark",size:"large",label:"Update Flight",disabled:!0};validateForm(){this.submitButtonData.disabled=this.form.invalid}submit(){console.log("Flight form submitted:",this.form.value),this.onSubmit.emit({id:this.form.get("id").value,origin:this.form.get("origin").value,destination:this.form.get("destination").value,price:this.form.get("price").value,idPlane:this.form.get("plane").value,departure:this.form.get("departure").value,arrival:this.form.get("arrival").value})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["lib-update-flight"]],inputs:{planes:[1,"planes"],flightData:"flightData"},outputs:{onSubmit:"onSubmit"},decls:22,vars:14,consts:[[1,"form",3,"formGroup"],[3,"outputData","inputData","formGroup"],[1,"form__group"],["for","plane",1,"form__label"],["name","plane","id","plane","required","","formControlName","plane",1,"form__select",3,"change"],["value","","disabled","","selected",""],[3,"value"],[3,"clickEvent","buttonData"]],template:function(t,i){t&1&&(a(0,"form",0)(1,"div")(2,"app-input",1),u("outputData",function(){return i.validateForm()}),r()(),a(3,"div")(4,"app-input",1),u("outputData",function(){return i.validateForm()}),r()(),a(5,"div")(6,"app-input",1),u("outputData",function(){return i.validateForm()}),r()(),a(7,"div")(8,"app-input",1),u("outputData",function(){return i.validateForm()}),r()(),a(9,"div",2)(10,"label",3),p(11,"Plane"),r(),a(12,"select",4),u("change",function(){return i.validateForm()}),a(13,"option",5),p(14,"Select a plane"),r(),I(15,qe,2,2,"option",6,x),r()(),a(17,"div")(18,"app-input",1),u("outputData",function(){return i.validateForm()}),r()(),a(19,"div")(20,"app-input",1),u("outputData",function(){return i.validateForm()}),r()(),a(21,"app-button",7),u("clickEvent",function(){return i.submit()}),r()()),t&2&&(l("formGroup",i.form),s(2),l("inputData",i.idInput)("formGroup",i.form),s(2),l("inputData",i.originInput)("formGroup",i.form),s(2),l("inputData",i.destinationInput)("formGroup",i.form),s(2),l("inputData",i.priceInput)("formGroup",i.form),s(7),E(i.planes()),s(3),l("inputData",i.departureInput)("formGroup",i.form),s(2),l("inputData",i.arrivalInput)("formGroup",i.form),s(),l("buttonData",i.submitButtonData))},dependencies:[U,O,z,R,V,j,k,J,T,A,G,q],styles:[ye]})}return e})(),pt=(()=>{class e{flight=se(null);_planesUseCase=o(K);_flightUseCase=o(st);flightService=o(Se);route=o(he);router=o(v);planes=[];ngOnInit(){let n=this.route.snapshot.paramMap.get("id");n&&this.flightService.getById(n).subscribe({next:t=>{this.flight.set(t)}}),this._planesUseCase.initSubscription(),this._flightUseCase.initSubscription(),this.getPlanes(),this._planesUseCase.planes$().subscribe({next:t=>{this.planes=t}})}getPlanes(){this._planesUseCase.execute()}updateFlight(n){this._flightUseCase.execute(n)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=f({type:e,selectors:[["lib-update-flight-container"]],decls:1,vars:2,consts:[[3,"onSubmit","planes","flightData"]],template:function(t,i){t&1&&(a(0,"lib-update-flight",0),u("onSubmit",function(b){return i.updateFlight(b)}),r()),t&2&&l("planes",i.planes)("flightData",i.flight())},dependencies:[lt],encapsulation:2})}return e})(),xt=[{path:"",component:ze,canActivate:[H],children:[{path:"",component:Ke},{path:"planes",component:Xe}]},{path:"create",component:Ce,canActivate:[H],children:[{path:"",component:Ve},{path:"planes",component:tt},{path:"maintenances",component:rt}]},{path:"update",component:Ce,canActivate:[H],children:[{path:"flight/:id",component:pt}]}];export{xt as adminRoutes};
